#include <iostream>

using namespace std;

double r[11][20] = 
{
    {10.3076923076923, 7.78114478114478, 10.4583211179517, 16.8823529411765, 25.3048707155743, 14.7771367521368, 10.493370551291, 4.0713047784105, 4.92144540455617, 6.6900269541779, 6.17646444606871, 17.2962588473205, 12.651278038602, 6.78509212730318, 6.21187626301881, 7.65073375262055, 7.05480710349051, 7.86137262928094, 6.36818181818182, 7.50915459321764},
    {3.97429435483871, 3.3096786911098, 2.59832974137931, 2.92842459353392, 4.48769050410317, 3.99096385542169, 3.25081433224756, 4.77690950340308, 2.4293059125964, 3.58753822629969, 3.39661445973738, 3.92285666161361, 4.29162357807653, 3.19164060278647, 3.51972708395135, 4.30749910297811, 4.07596513075965, 4.20843091334895, 4.33514689880305, 4.49097384256417},
    {10.3623727972202, 11.5145684442001, 13.3398732266828, 8.48643410852713, 12.9688990650639, 10.4855208183259, 9.41623994147769, 8.77991452991453, 12.4135021097046, 11.7240221588048, 9.53367875647668, 12.0588235294118, 9.23739629865986, 7.77305282005372, 7.47404406178779, 6.88952910788794, 5.03673266093886, 5.01379310344828, 5.72514720173784, 4.07675807293176},
    {27.9173228346457, 43.97, 37.5342465753425, 29.5075376884422, 39.6748768472906, 47.7734806629834, 36.2990654205608, 33.4193548387097, 66.9247311827957, 52.3898305084746, 48.4191176470588, 31.0446428571429, 17.0524934383202, 12.0141342756184, 16.9216152019002, 20.1900584795322, 17.7815845824411, 12.4033333333333, 9.72588055130168, 11.3515625},
    {35.3655589123867, 44.7955555555556, 36.3121761658031, 45.7331838565022, 46.9064449064449, 28.6586021505376, 16.2309734513274, 17.2796517954298, 28.5383360522023, 29.7042253521127, 21.4497863247863, 13.8105065666041, 11.2547554347826, 10.9665071770335, 14.5656154628688, 17.2245989304813, 13.457100591716, 13.2212333121424, 13.2122562674095, 14.5564345991561},
    {9.69301007556675, 11.8981623277182, 13.1200681928885, 10.8350795498642, 13.0386940749698, 10.0691673894189, 8.8890625, 7.24129464285714, 8.11389111289031, 7.99872146118722, 8.6259800427655, 7.12236593518384, 6.19880471084549, 6.15022675736961, 6.66582597730139, 5.84165500077773, 6.3937028707501, 5.52614452423698, 4.78511192885618, 3.76242685141589},
    {10.9125046939542, 12.4454895254382, 10.9298531810767, 11.7759693633317, 12.3766504517026, 10.7612328258448, 8.36034912718205, 6.62216702887302, 9.75623423928271, 5.99007523611333, 7.40061162079511, 6.10008779631255, 5.37371134020619, 7.33283987169998, 8.50952673632452, 6.31554737810488, 6.0169941582581, 7.19612003637466, 7.50264710331266, 9.61694365626267},
    {9.67583497053045, 8.09468822170901, 8.6006168080185, 7.87141300399564, 11.6422764227642, 10.4414856341976, 6.37871458189357, 6.36767110488204, 10.323275862069, 10.1319018404908, 8.311555213938, 8.01076340442496, 7.8572806171649, 6.39075433390598, 7.07453051643193, 8.7121799844841, 7.10283315844701, 7.05598552618354, 6.22255332496863, 6.83244916003537},
    {5.64879246827671, 8.6212839293408, 6.40939597315436, 4.95390288875231, 6.06754221388368, 4.30436072382082, 2.54252873563218, 2.84677887405688, 2.45709123757904, 1.66949152542373, 2.86718041704442, 3.19926500612495, 2.46134817563389, 2.582, 2.66455821308559, 3.31060427933224, 2.76362513509341, 2.45046780407265, 2.52910912537233, 2.15283208580047},
    {6.49070986183897, 5.08612440191388, 5.69546712066397, 6.86961494471979, 8.49522569444444, 6.0920907079646, 5.03489847715736, 4.86669658886894, 5.48976769911504, 6.29389312977099, 7.15191341321995, 4.91958125148703, 4.27277051129608, 3.28776541961577, 4.11503332510491, 4.00525310410697, 3.89238354301258, 3.34531371030209, 3.16895475819033, 4.60592205530155},
    {14.8105181747873, 19.9227799227799, 20.7988587731812, 24.4823066841415, 27.5955414012739, 21.9985999299965, 11.0719439290868, 12.9487771112137, 16.6720691518098, 16.5749801639778, 18.7725999490705, 14.2255892255892, 10.4643628509719, 13.363599677159, 18.2209737827715, 19.7022332506204, 13.31004045605, 12.0381721928114, 13.2493339253996, 17.3309037900875}
};

double f[2] = {50.0, 100.0};

double investing(double d) {
    int I[20] = {0};
    double R[20] = {0.0};
    int q;
    for(int k = 0; k < 20; k++) {
        q = 0;
        for(int j = 0; j < 11; j++) {
            if(r[j][k] > r[q][k]) {
                q = j;
            }
        }
        if(k != 0) {
            if(R[k-1] + d*r[I[k-1]][k] - f[0] > R[k-1] +  d*r[q][k] - f[0]){
                R[k] = R[k-1] + d*r[I[k-1]][k] - f[0];
                I[k] = I[k-1];
              }
              else{
                R[k] = R[k-1] + d*r[q][k] - f[1];
                I[k] = q;
          }
        }
        else if(k == 0) {
            R[k] = d*r[q][k];
            I[k] = q;
        }
    }
    return R[19];
}

int main(){
    double money = investing(1000);
    cout << "Ending money: $" << money << endl;
}


